<IfModule mod_expires.c>
	ExpiresActive On
	ExpiresByType image/webp "access plus 1 year"
	ExpiresByType image/jpeg "access plus 1 year"
	ExpiresByType image/png "access plus 1 year"
	ExpiresByType image/gif "access plus 1 year"
	ExpiresByType audio/flac "access plus 1 year"
	ExpiresByType audio/x-flac "access plus 1 year"
	ExpiresByType audio/ogg "access plus 1 year"
	ExpiresByType audio/opus "access plus 1 year"
</IfModule>

<IfModule mod_headers.c>
	<FilesMatch "\.(webp|jpg|jpeg|png|gif|flac|opus)$">
		Header set Cache-Control "public, max-age=31536000"
	</FilesMatch>
</IfModule>

<IfModule mod_rewrite.c>
	RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME}.php -f
    RewriteRule (.*) $1.php [L]

    RewriteEngine on

    #1)externally redirect "/file.php" to "/file"
    RewriteCond %{THE_REQUEST} /([^.]+)\.php [NC]
    RewriteRule ^ /%1 [NC,L,R]
    #2)Internally map "/file" back to "/file.php"
    RewriteCond %{REQUEST_FILENAME}.php -f
    RewriteRule ^(.*?)/?$ /$1.php [NC,L]
</IfModule>