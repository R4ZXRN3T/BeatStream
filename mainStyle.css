/* =========================
   CSS VARIABLES
   ========================= */
:root {
	--card-bg: #fff;
	--primary-dark: #343a40;
	--secondary-dark: #212529;
	--border-color: #495057;
	--text-muted: #6c757d !important;
	--light-bg: #f8f9fa;
	--sidebar-width: 220px;
	--navbar-height: 66px;
	--transition-fast: 0.2s ease;
	--transition-normal: 0.3s ease;
	--shadow-light: 0 2px 8px rgba(0, 0, 0, 0.1);
	--shadow-medium: 0 4px 12px rgba(0, 0, 0, 0.3);
	--shadow-heavy: 0 8px 32px rgba(0, 0, 0, 0.4);
}

/* =========================
   BASE & LAYOUT
   ========================= */
body {
	background-color: var(--light-bg);
	margin-left: var(--sidebar-width);
	margin-top: var(--navbar-height);
}

.main {
	padding: 20px;
	margin-bottom: 300px;
}

.a-p-column {
	margin-left: 50px;
}

/* =========================
   SIDEBAR
   ========================= */
.sidebar {
	background: linear-gradient(180deg, var(--primary-dark), var(--secondary-dark));
	border-right: 2px solid var(--border-color);
	color: white;
	margin-top: var(--navbar-height);
	min-height: 100vh;
	padding: 20px;
	width: var(--sidebar-width);
	box-shadow: #000000 0 0 15px;
	z-index: 1000;
}

.sidebar a {
	border-radius: 5px;
	color: #adb5bd;
	display: block;
	padding: 10px 15px;
	text-decoration: none;
	transition: background-color var(--transition-normal), color var(--transition-normal);
}

.sidebar a:hover {
	background-color: var(--border-color);
	color: white;
}

.sidebar a.active {
	background-color: var(--text-muted);
	color: white;
	font-weight: bold;
}

/* =========================
   NAVIGATION
   ========================= */
.myNavbar {
	margin-bottom: 20px;
}

.tab {
	margin-top: 20px;
}

.nav-tabs .nav-link.active {
	background-color: var(--primary-dark);
	color: white;
}

.navbar {
	z-index: 1100;
	box-shadow: #000000 0 0 15px;
	border-bottom: #495057 2px solid
}

.topbar-search {
	width: 100%;
	max-width: 420px;
	margin: 0 auto;
}

.topbar-search .form-control {
	padding: 0.35rem 0.6rem;
	font-size: 0.95rem;
	border-radius: 999px;
}

/* =========================
   TABLES
   ========================= */
.table {
	border-collapse: collapse;
	margin: 0 auto;
	width: 50%;
	overflow: hidden;
}

th, td {
	border-bottom: 1px solid #ddd;
	padding: 7px;
	text-align: left;
}

th {
	background-color: var(--primary-dark);
	color: white;
}

tr:nth-child(even) {
	background-color: #c7c7c7;
}

/* =========================
   CARD COMPONENTS
   ========================= */
.card-img-top {
	height: 180px;
	object-fit: cover;
}

.card-body[data-song-id] {
	cursor: pointer;
	transition: background-color var(--transition-fast), border-radius var(--transition-fast);
	border-radius: 0;
	position: relative;
	overflow: visible;
	white-space: nowrap;
	max-width: 100%;
}

.card-body[data-song-id]:hover,
.card:hover {
	background-color: rgba(200, 200, 200, 0.5);
	border-radius: 10px;
	transition: background-color var(--transition-fast), border-radius var(--transition-fast);
}

.card-body:after {
	content: "";
	position: absolute;
	right: 0;
	top: 0;
	width: 0;
	height: 100%;
	background: linear-gradient(to right, rgba(255, 255, 255, 0), var(--card-bg));
	pointer-events: none;
	border-radius: 10px;
}

.card-body.playing,
.playing {
	background-color: rgba(13, 110, 253, 0.1);
	border-left: 3px solid #0d6efd;
	border-radius: 10px;
}

/* =========================
   SONG CARDS
   ========================= */

/* --- Menu Button --- */
.song-menu-btn {
	opacity: 0;
	transition: opacity 0.2s;
	font-size: 1.5rem;
	background: none;
	border: none;
	box-shadow: none;
}

.song-menu-btn:hover {
	color: #96a3af;
	background: none;
	border: none;
	box-shadow: none;
}

.song-card {
	border-radius: 10px;
	cursor: pointer;
}

.song-card:hover .song-menu-btn,
.song-menu-btn:focus {
	opacity: 1;
}

.song-menu-dropdown,
.dropdown-submenu {
	position: relative;
}

.dropdown-submenu > .dropdown-menu {
	top: 0;
	left: 100%;
	margin-top: -6px;
	margin-left: 0;
	display: none;
	position: absolute;
}

.dropdown-submenu:hover > .dropdown-menu,
.dropdown-submenu:focus-within > .dropdown-menu {
	display: block;
}

.song-menu-container.menu-open {
	display: block !important;
}

/* --- Song card elements --- */
.song-image {
	width: 64px;
	height: 64px;
	object-fit: cover;
}

.song-cover-index-container {
	width: 64px;
	height: 64px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.song-cover-index {
	font-size: 20px;
	margin: 0;
	line-height: 1;
	user-select: none;
	font-weight: bold;
}

.song-index {
	left: -10px;
	top: 20px;
	background: rgba(0, 0, 0, 0.6);
	color: white;
	width: 25px;
	height: 25px;
	border-radius: 50%;
	display: flex;
	justify-content: center;
	align-items: center;
	font-size: 0.8rem;
}

.song-title {
	font-size: 1.0rem !important;
	font-weight: 600 !important;
}

.song-artist {
	font-size: 0.9rem;
	color: #444b4f !important;
	font-weight: 500;
}

.song-duration {
	font-size: 0.8rem;
	color: #6c757d;
}

.song-duration-menu-container .song-menu-container {
	display: none;
	position: absolute;
	right: 0;
	top: -24px;
	z-index: 10;
}

.song-card:hover .song-duration-menu-container .song-duration {
	display: none;
}

.song-card:hover .song-duration-menu-container .song-menu-container {
	display: block;
}

/* When the three-dot menu is open, hide duration and keep menu/button visible */
.song-duration-menu-container.menu-open .song-duration {
	display: none;
}

.song-duration-menu-container.menu-open .song-menu-container {
	display: block;
}

.song-duration-menu-container.menu-open .song-menu-btn {
	opacity: 1;
}

.song-info-container {
	max-width: 65%;
	min-width: 0;
	position: relative;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

/* =========================
   ALBUM COMPONENTS
   ========================= */
.album-card,
.playlist-card {
	border-radius: 10px;
	cursor: pointer;
	transition: background-color var(--transition-fast), transform var(--transition-fast);
}

.album-card:hover,
.playlist-card:hover {
	background-color: rgba(93, 93, 93, 0.5);
	border-radius: 10px;
	transition: background-color var(--transition-fast), border-radius var(--transition-fast);
}

.album-card-large,
.playlist-card-large {
	width: 100%;
}

.album-card-large .album-image {
	width: 100%;
	height: 200px;
	object-fit: cover;
	border-radius: 10px 10px 0 0;
}

.album-card-standard .album-image {
	width: 80px;
	height: 80px;
	object-fit: cover;
}

.album-title,
.playlist-title {
	font-size: 1.1rem;
	font-weight: bold;
	margin-bottom: 0.25rem;
}

.album-artist,
.album-info,
.playlist-creator {
	font-size: 0.9rem;
	color: var(--text-muted);
	margin-bottom: 0;
}

.album-info {
	font-size: 0.8rem;
	text-align: left;
}

.album-date {
	margin-top: -50px;
}

.playlist-card-large .playlist-image {
	width: 100%;
	height: 200px;
	object-fit: cover;
	border-radius: 10px 10px 0 0;
}

.playlist-card-standard .playlist-image,
.playlist-image {
	width: 80px;
	height: 80px;
	object-fit: cover;
}

/* =========================
   ARTIST COMPONENTS
   ========================= */
.artist-header {
	background-color: #ffffff;
	margin-bottom: 2rem;
	padding: 2rem 0;
}

.artist-image {
	border-radius: 50%;
	box-shadow: var(--shadow-light);
	height: 200px;
	object-fit: cover;
	width: 200px;
}

/* =========================
   FORMS
   ========================= */
.form-control {
	border: 1px solid #ced4da;
	border-radius: 5px;
	font-size: 1rem;
	padding: 10px;
}

/* =========================
   SEARCH
   ========================= */
.search-container {
	max-width: 800px;
	margin: 0 auto 2rem;
}

.results-section {
	margin-bottom: 2rem;
}

.result-count {
	color: var(--text-muted);
	font-size: 0.9rem;
	margin-bottom: 1rem;
}

.no-results {
	text-align: center;
	padding: 2rem;
	color: var(--text-muted);
}

/* =========================
   EDIT PLAYLIST
   ========================= */
.edit-playlist .song-list {
	height: 400px;
	overflow-y: auto;
	border: 2px solid #e9ecef;
	border-radius: 10px;
	padding: 15px;
	background: var(--light-bg);
}

.edit-playlist .song-image {
	width: 50px;
	height: 50px;
	object-fit: cover;
	border-radius: 5px;
}

.edit-playlist .search-box {
	margin-bottom: 15px;
	position: sticky;
	top: 0;
	z-index: 10;
	background: var(--light-bg);
	padding: 10px 0;
}

.edit-playlist .search-box input {
	border-radius: 25px;
	padding: 10px 15px;
	border: 2px solid #e9ecef;
	transition: border-color var(--transition-fast);
}

.edit-playlist .search-box input:focus {
	border-color: #667eea;
	box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
}

/* =========================
   UTILITY CLASSES
   ========================= */
.rcorners1 {
	border-radius: 10px;
	height: 40px;
	padding: 0;
	width: 40px;
}

.ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

.text-start {
	text-align: left;
}

.on-card-link,
.custom-link {
	text-decoration: none;
	color: inherit;
}

.custom-link:hover {
	text-decoration: underline;
	color: inherit;
}

.codec-image {
	height: 30px;
	object-fit: cover;
	margin-right: 10px;
}

h2.recommended-header {
	font-size: 23px !important;
}

/* =========================
   ANIMATIONS
   ========================= */
@keyframes pulse {
	0% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.05);
	}
	100% {
		transform: scale(1);
	}
}

.controls .btn:active {
	animation: pulse 0.2s ease;
}

/* =========================
   RESPONSIVE DESIGN
   ========================= */
@media (max-width: 768px) {
	.controls {
		gap: 0.5rem !important;
	}

	.controls .btn {
		width: 32px !important;
		height: 32px !important;
	}

	#playPauseBtn {
		width: 42px !important;
		height: 42px !important;
	}
}

/* =========================
   DARK MODE
   ========================= */
body.dark-mode {
	--card-bg: #23272b;
	--light-bg: #181818;
	--text-muted: #b0b8c1;
	background-color: var(--light-bg) !important;
	color: #e0e0e0;
}

/* --- Sidebar --- */
body.dark-mode .sidebar {
	background: linear-gradient(180deg, #23272b, #181a1b);
	border-right: 2px solid var(--primary-dark);
	color: #e0e0e0;
}

body.dark-mode .sidebar a {
	color: var(--text-muted);
}

body.dark-mode .sidebar a:hover,
body.dark-mode .sidebar a.active {
	background-color: var(--primary-dark);
	color: #fff;
}

/* --- Navigation --- */
body.dark-mode .nav-tabs .nav-link.active {
	background-color: #23272b;
	color: #fff;
}

body.dark-mode .navbar-expand-lg .navbar-dark .navbar-nav .nav-link {
	color: #646464;
}

/* --- Tables --- */
body.dark-mode th {
	background-color: #23272b;
	color: #e0e0e0;
}

body.dark-mode tr:nth-child(even) {
	background-color: #23272b;
}

/* --- Cards --- */
body.dark-mode .card {
	background-color: #23272b;
	color: #e0e0e0;
}

body.dark-mode .card-title,
body.dark-mode .card-text {
	color: #e0e0e0;
}

body.dark-mode .card-body:after {
	background: linear-gradient(to right, rgba(35, 39, 43, 0), var(--card-bg));
}

body.dark-mode .card-body[data-song-id]:hover,
body.dark-mode .card:hover {
	background-color: rgba(75, 75, 75, 0.5) !important;
}

/* --- Albums --- */
body.dark-mode .album-card,
body.dark-mode .playlist-card {
	background-color: #23272b;
	color: #e0e0e0;
}

body.dark-mode .album-card:hover,
body.dark-mode .playlist-card:hover {
	background-color: rgba(93, 93, 93, 0.5);
	border-radius: 10px;
	transition: background-color var(--transition-fast), border-radius var(--transition-fast);
}

body.dark-mode .album-title,
body.dark-mode .album-artist,
body.dark-mode .album-info,
body.dark-mode .playlist-title,
body.dark-mode .playlist-creator {
	color: #e0e0e0;
}

body.dark-mode .album-artist,
body.dark-mode .album-info,
body.dark-mode .playlist-creator,
body.dark-mode .song-artist {
	color: var(--text-muted) !important;
}

/* --- Artist --- */
body.dark-mode .artist-header {
	background-color: #23272b;
}

/* --- Forms --- */
body.dark-mode .form-control {
	background-color: var(--primary-dark);
	color: #e0e0e0;
}

body.dark-mode .form-control::placeholder {
	color: #e0e0e0;
}

body.dark-mode .form-control::file-selector-button {
	background-color: var(--primary-dark);
	color: #e0e0e0;
	border: 1px solid var(--border-color);
}

body.dark-mode .form-control::file-selector-button:hover {
	background-color: var(--border-color) !important;
	color: #e0e0e0 !important;
}

/* Dark mode: Song menu button */
body.dark-mode .song-menu-btn {
	color: var(--text-muted);
	background: none;
}

body.dark-mode .song-menu-btn:hover,
body.dark-mode .song-menu-btn:focus {
	color: #e0e0e0;
	background: none;
}